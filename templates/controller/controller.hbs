import { Controller, Get, Post, Patch, Put, Delete, Body, Param } from '@nestjs/common';
import { {{module.name}}Service } from '../services/{{module.nameLower}}.service';
{{#each module.responses}}
import { {{name}} } from '../dtos/{{module_name}}.response.dto';
{{/each}}
{{#each module.updates}}
import { {{name}} } from '../dtos/{{module_name}}.update.dto';
{{/each}}

@Controller('{{module.controllers.base_path}}')
export class {{module.controllers.name}}Controller {
  constructor(private readonly service: {{module.name}}Service) {}

  {{#each module.controllers.methods}}
  @{{http_method}}('{{route}}')
  {{name}}(
    {{#if body}}
    @Body() dto: {{body}}
    {{/if}} 
    {{#each params}}
    {{#if ../body}}, {{/if}}@Param('{{this.name}}') {{this.name}}: {{this.type}}
    {{/each}}
  ) {
    return this.service.{{service}}(
      {{#if body}}dto{{/if}}
      {{#each params}}{{#if @first}}{{else}}, {{/if}}{{this.name}}{{/each}}
    );
  }
  {{/each}}
}
